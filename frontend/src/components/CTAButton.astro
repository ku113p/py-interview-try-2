---
interface Props {
  href: string;
  variant?: 'primary' | 'secondary';
  event?: string;
  class?: string;
}

const { href, variant = 'primary', event, class: className } = Astro.props;

const baseClasses =
  'inline-block rounded-full px-8 py-3.5 text-lg font-semibold transition-all duration-300';
const variantClasses =
  variant === 'primary'
    ? 'bg-gold-400 text-obsidian-950 hover:bg-gold-300 hover:shadow-[0_0_30px_rgba(232,196,104,0.4)]'
    : 'border border-gold-500/40 text-gold-400 hover:border-gold-400 hover:bg-gold-400/10';
---

<a
  href={href}
  class:list={[baseClasses, variantClasses, className]}
  data-event={event}
>
  <slot />
</a>

<script>
  document.querySelectorAll<HTMLElement>('[data-event]').forEach((el) => {
    el.addEventListener('click', () => {
      const name = el.dataset.event;
      if (name) window.plausible(name);
    });
  });
</script>
